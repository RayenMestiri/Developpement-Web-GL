<div class="articles-container">
  <h1>Activit√©s 2 & 3 : *ngFor et [ngClass]</h1>

  <!-- Formulaire pour ajouter un nouvel article -->
  <div class="form-section">
    <h2>Ajouter un nouvel article</h2>
    
    <div class="form-group">
      <label for="titre">Titre de l'article :</label>
      <input 
        type="text" 
        id="titre"
        [(ngModel)]="newTitle" 
        placeholder="Titre de l'article"
        class="input-field"
      />
    </div>

    <div class="form-group">
      <label for="contenu">Contenu :</label>
      <input 
        type="text" 
        id="contenu"
        [(ngModel)]="newContent" 
        placeholder="Contenu de l'article"
        class="input-field"
      />
    </div>

    <div class="form-group">
      <label for="importance">Niveau d'importance :</label>
      <!-- 
        Select pour choisir l'importance
        Utilise [(ngModel)] pour le two-way binding
      -->
      <select id="importance" [(ngModel)]="newImportance" class="select-field">
        <option value="√©lev√©e">√âlev√©e</option>
        <option value="moyenne">Moyenne</option>
        <option value="faible">Faible</option>
      </select>
    </div>

    <button (click)="addArticle()" class="btn-add">
      ‚ûï Ajouter l'article
    </button>
  </div>

  <!-- Liste des articles -->
  <div class="articles-list">
    <h2>Liste des Articles ({{ articles.length }})</h2>

    <!-- 
      *ngFor : Directive structurelle pour it√©rer sur le tableau
      Syntaxe : *ngFor="let element of tableau"
      'article' est la variable locale qui repr√©sente chaque √©l√©ment
      'let i = index' permet de r√©cup√©rer l'index de l'√©l√©ment
    -->
    <!-- 
      [ngClass] : Directive d'attribut pour appliquer des classes CSS conditionnelles
      Applique 'important', 'moyen' ou 'faible' selon l'importance
    -->
    <div 
      *ngFor="let article of articles; let i = index" 
      [ngClass]="{
        'important': article.importance === '√©lev√©e',
        'moyen': article.importance === 'moyenne',
        'faible': article.importance === 'faible'
      }"
      class="article-card"
    >
      <!-- Badge d'importance -->
      <span class="badge-importance">{{ article.importance }}</span>
      
      <!-- Titre de l'article avec interpolation -->
      <h3>{{ article.titre }}</h3>
      
      <!-- Contenu de l'article -->
      <p>{{ article.contenu }}</p>
      
      <!-- Informations suppl√©mentaires -->
      <div class="article-footer">
        <small>Article #{{ i + 1 }}</small>
        <button (click)="deleteArticle(i)" class="btn-delete">
          üóëÔ∏è Supprimer
        </button>
      </div>
    </div>

    <!-- Message si la liste est vide -->
    <div *ngIf="articles.length === 0" class="empty-message">
      <p>üì≠ Aucun article disponible. Ajoutez-en un!</p>
    </div>
  </div>

  <!-- Section d'explication -->
  <div class="explanation">
    <h3>üìö Explications</h3>
    <div class="explanation-section">
      <h4>*ngFor - Directive de r√©p√©tition</h4>
      <ul>
        <li><strong>*ngFor="let item of items"</strong> : It√®re sur chaque √©l√©ment du tableau</li>
        <li><strong>let i = index</strong> : R√©cup√®re l'index de l'√©l√©ment (commence √† 0)</li>
        <li><strong>let first = first</strong> : Boolean si c'est le premier √©l√©ment</li>
        <li><strong>let last = last</strong> : Boolean si c'est le dernier √©l√©ment</li>
        <li><strong>let even = even</strong> : Boolean si l'index est pair</li>
        <li><strong>let odd = odd</strong> : Boolean si l'index est impair</li>
      </ul>
    </div>
    
    <div class="explanation-section">
      <h4>[ngClass] - Classes CSS conditionnelles</h4>
      <ul>
        <li><strong>[ngClass]="'className'"</strong> : Applique une classe simple</li>
        <li><strong>[ngClass]="{{ '{' }}'class1': condition1, 'class2': condition2{{ '}' }}"</strong> : Classes conditionnelles multiples</li>
        <li>Les classes sont appliqu√©es/retir√©es automatiquement selon les conditions</li>
        <li>Id√©al pour le feedback visuel bas√© sur les donn√©es</li>
      </ul>
    </div>
  </div>
</div>
